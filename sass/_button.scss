@charset "UTF-8";
@import "variables/settings";
@import "mixins/z-depth";
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/css3/transition";
@import "compass/css3/transform";

// button styles
button, .btn {
  // only displays text
  position: relative;
  border: none;
  @include border-radius(0);
  height: $button-box-size;
  min-width: $button-box-size * $golden;
  line-height: $button-font-size;
  font-family: inherit;
  font-size: $button-font-size;
  font-weight: inherit;
  color: $color-button-text;
  display: inline-block;
  outline: none;
  vertical-align: middle;
  text-align: center;
  cursor: pointer;
  padding: 0 (1em / $golden);
  background-color: transparent;
  @include transition(all 0.2s);
  @include perspective(900px);
  @include transform-style(preserve-3d);

  // no default tap active style
  -webkit-tap-highlight-color: transparent;

  &::before {
    // the actual button background & border
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    @include border-radius(inherit);
    z-index: -1;
    @include box-shadow(inset 0 0 0 $button-box-size/2 $color-button);
    @include transition(all 0.1s);
    @include transform-style(preserve-3d);
  }

  &::after {
    // the hidden face of the button cube
    content: '';
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: 16px;
    @include transform(rotateX(-90deg));
    @include transform-origin($origin-x: 50%, $origin-y: 0);
    @include box-shadow(inset 0 0 0 $button-box-size/2 $color-button);
  }

  &:hover, &:active {
    color: $color-button;

    &::before, &::after {
      @include box-shadow(inset 0 0 0 $border-width);
    }
  }

  &:active {
    @include transform(rotateX(45deg));
  }
}